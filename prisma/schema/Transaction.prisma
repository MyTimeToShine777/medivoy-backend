model Transaction {
  transactionId          String    @id @default(uuid()) @db.Uuid
  userId                 String    @db.Uuid
  bookingId              String?   @db.Uuid
  paymentId              String?   @db.Uuid
  type                   String    @db.VarChar(50)
  amount                 Decimal   @db.Decimal(12, 2)
  currency               String    @default("USD") @db.VarChar(3)
  status                 String    @default("pending") @db.VarChar(50)
  gateway                String?   @db.VarChar(50)
  gatewayTransactionId   String?   @db.VarChar(255)
  paymentMethod          String?   @db.VarChar(50)
  description            String?   @db.Text
  metadata               Json?
  failureReason          String?   @db.Text
  processedAt            DateTime?
  createdAt              DateTime  @default(now())
  updatedAt              DateTime  @updatedAt
  
  user                   User      @relation(fields: [userId], references: [userId], onDelete: Cascade)
  
  @@index([userId])
  @@index([bookingId])
  @@index([paymentId])
  @@index([status])
  @@index([type])
  @@map("transactions")
}
