model MedicalRecord {
  recordId                String    @id @default(uuid()) @db.Uuid
  patientId               String    @db.Uuid
  doctorId                String?   @db.Uuid
  appointmentId           String?   @db.Uuid
  bookingId               String?   @db.Uuid
  recordType              String    @db.VarChar(100)
  recordDate              DateTime  @db.Date
  title                   String    @db.VarChar(255)
  description             String?   @db.Text
  chiefComplaint          String?   @db.Text
  presentIllness          String?   @db.Text
  medicalHistory          String?   @db.Text
  familyHistory           String?   @db.Text
  socialHistory           String?   @db.Text
  allergies               Json?
  currentMedications      Json?
  vitalSigns              Json?
  physicalExamination     String?   @db.Text
  diagnosis               String?   @db.Text
  treatmentPlan           String?   @db.Text
  prescriptions           Json?
  labTests                Json?
  imaging                 Json?
  procedures              Json?
  followUpInstructions    String?   @db.Text
  doctorNotes             String?   @db.Text
  clinicalNotes           String?   @db.Text
  isConfidential          Boolean   @default(true)
  accessLevel             String    @default("private") @db.VarChar(50)
  sharedWith              Json?
  attachments             Json?
  status                  String    @default("active") @db.VarChar(50)
  createdAt               DateTime  @default(now())
  updatedAt               DateTime  @updatedAt
  
  patient                 Patient   @relation(fields: [patientId], references: [patientId], onDelete: Cascade)
  
  @@index([patientId])
  @@index([doctorId])
  @@index([appointmentId])
  @@index([bookingId])
  @@index([recordDate])
  @@map("medical_records")
}
