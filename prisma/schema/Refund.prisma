model Refund {
  refundId                String    @id @default(uuid()) @db.Uuid
  bookingId               String    @db.Uuid
  userId                  String    @db.Uuid
  paymentId               String?   @db.Uuid
  amount                  Decimal   @db.Decimal(12, 2)
  currency                String    @default("USD") @db.VarChar(3)
  reason                  String    @db.Text
  status                  String    @default("pending") @db.VarChar(50)
  refundMethod            String?   @db.VarChar(50)
  gatewayRefundId         String?   @db.VarChar(255)
  processedBy             String?   @db.Uuid
  processedAt             DateTime?
  notes                   String?   @db.Text
  createdAt               DateTime  @default(now())
  updatedAt               DateTime  @updatedAt
  
  booking                 Booking   @relation(fields: [bookingId], references: [bookingId], onDelete: Cascade)
  
  @@index([bookingId])
  @@index([userId])
  @@index([status])
  @@map("refunds")
}
