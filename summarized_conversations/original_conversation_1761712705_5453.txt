{'role': 'assistant', 'content': 'Let\'s fix the translation.controller.js file:\n\n<function_calls>\n<full-file-rewrite file_path="src/controllers/translation.controller.js">\nconst Translation = require(\'../models/Translation.model\');\nconst { successResponse, errorResponse } = require(\'../utils/response\');\nconst logger = require(\'../utils/logger\');\n\nclass TranslationController {\n  /**\n   * Create a new translation\n   */\n  async createTranslation(req, res) {\n    try {\n      const { key, language, text } = req.body;\n      \n      // Create translation\n      const translation = await Translation.create({\n        key,\n        language,\n        text,\n      });\n      \n      return successResponse(res, {\n        message: \'Translation created successfully\',\n        data: translation,\n      }, 201);\n    } catch (error) {\n      logger.error(\'Create translation error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to create translation\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get translation by ID\n   */\n  async getTranslation(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find translation\n      const translation = await Translation.findByPk(id);\n      \n      if (!translation) {\n        return errorResponse(res, {\n          message: \'Translation not found\',\n        }, 404);\n      }\n      \n      return successResponse(res, {\n        message: \'Translation retrieved successfully\',\n        data: translation,\n      });\n    } catch (error) {\n      logger.error(\'Get translation error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to retrieve translation\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Update translation\n   */\n  async updateTranslation(req, res) {\n    try {\n      const { id } = req.params;\n      const { text } = req.body;\n      \n      // Find translation\n      const translation = await Translation.findByPk(id);\n      \n      if (!translation) {\n        return errorResponse(res, {\n          message: \'Translation not found\',\n        }, 404);\n      }\n      \n      // Update translation\n      await translation.update({ text });\n      \n      return successResponse(res, {\n        message: \'Translation updated successfully\',\n        data: translation,\n      });\n    } catch (error) {\n      logger.error(\'Update translation error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to update translation\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Delete translation\n   */\n  async deleteTranslation(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find translation\n      const translation = await Translation.findByPk(id);\n      \n      if (!translation) {\n        return errorResponse(res, {\n          message: \'Translation not found\',\n        }, 404);\n      }\n      \n      // Delete translation\n      await translation.destroy();\n      \n      return successResponse(res, {\n        message: \'Translation deleted successfully\',\n      });\n    } catch (error) {\n      logger.error(\'Delete translation error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to delete translation\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get all translations\n   */\n  async getAllTranslations(req, res) {\n    try {\n      const { page = 1, limit = 10, language } = req.query;\n      \n      // Build where clause\n      const where = {};\n      if (language) where.language = language;\n      \n      // Get translations with pagination\n      const translations = await Translation.findAndCountAll({\n        where,\n        limit: parseInt(limit, 10),\n        offset: (parseInt(page, 10) - 1) * parseInt(limit, 10),\n        order: [[\'key\', \'ASC\']],\n      });\n      \n      return successResponse(res, {\n        message: \'Translations retrieved successfully\',\n        data: translations.rows,\n        pagination: {\n          currentPage: parseInt(page, 10),\n          totalPages: Math.ceil(translations.count / parseInt(limit, 10)),\n          totalRecords: translations.count,\n        },\n      });\n    } catch (...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761712656_846.txt'}