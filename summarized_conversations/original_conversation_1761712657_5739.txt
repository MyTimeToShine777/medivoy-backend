{'role': 'assistant', 'content': 'Let\'s fix the treatmentCategory.controller.js file:\n\n<function_calls>\n<full-file-rewrite file_path="src/controllers/treatmentCategory.controller.js">\nconst TreatmentCategory = require(\'../models/TreatmentCategory.model\');\nconst { successResponse, errorResponse } = require(\'../utils/response\');\nconst logger = require(\'../utils/logger\');\nconst { generateSlug } = require(\'../utils/helpers\');\n\nclass TreatmentCategoryController {\n  /**\n   * Create a new treatment category\n   */\n  async createTreatmentCategory(req, res) {\n    try {\n      const { name, description, icon, sortOrder, isActive } = req.body;\n      \n      // Generate slug from name\n      const slug = generateSlug(name);\n      \n      // Create treatment category\n      const treatmentCategory = await TreatmentCategory.create({\n        name,\n        description,\n        icon,\n        slug,\n        sortOrder,\n        isActive,\n      });\n      \n      return successResponse(res, {\n        message: \'Treatment category created successfully\',\n        data: treatmentCategory,\n      }, 201);\n    } catch (error) {\n      logger.error(\'Create treatment category error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to create treatment category\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get treatment category by ID\n   */\n  async getTreatmentCategory(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find treatment category\n      const treatmentCategory = await TreatmentCategory.findByPk(id);\n      \n      if (!treatmentCategory) {\n        return errorResponse(res, {\n          message: \'Treatment category not found\',\n        }, 404);\n      }\n      \n      return successResponse(res, {\n        message: \'Treatment category retrieved successfully\',\n        data: treatmentCategory,\n      });\n    } catch (error) {\n      logger.error(\'Get treatment category error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to retrieve treatment category\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Update treatment category\n   */\n  async updateTreatmentCategory(req, res) {\n    try {\n      const { id } = req.params;\n      const { name, description, icon, sortOrder, isActive } = req.body;\n      \n      // Find treatment category\n      const treatmentCategory = await TreatmentCategory.findByPk(id);\n      \n      if (!treatmentCategory) {\n        return errorResponse(res, {\n          message: \'Treatment category not found\',\n        }, 404);\n      }\n      \n      // Generate slug from name if name is provided\n      const updateData = { name, description, icon, sortOrder, isActive };\n      if (name) {\n        updateData.slug = generateSlug(name);\n      }\n      \n      // Update treatment category\n      await treatmentCategory.update(updateData);\n      \n      return successResponse(res, {\n        message: \'Treatment category updated successfully\',\n        data: treatmentCategory,\n      });\n    } catch (error) {\n      logger.error(\'Update treatment category error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to update treatment category\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Delete treatment category\n   */\n  async deleteTreatmentCategory(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find treatment category\n      const treatmentCategory = await TreatmentCategory.findByPk(id);\n      \n      if (!treatmentCategory) {\n        return errorResponse(res, {\n          message: \'Treatment category not found\',\n        }, 404);\n      }\n      \n      // Delete treatment category\n      await treatmentCategory.destroy();\n      \n      return successResponse(res, {\n        message: \'Treatment category deleted successfully\',\n      });\n    } catch (error) {\n      logger.error(\'Delete treatment category error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to delete treatment category\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get all treatment categories\n   */\n  async getAllTreatmentCategories(req, r...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761712614_9856.txt'}