{'role': 'assistant', 'content': 'Let\'s fix the notification.controller.js file:\n\n<function_calls>\n<full-file-rewrite file_path="src/controllers/notification.controller.js">\nconst Notification = require(\'../models/Notification.model\');\nconst { successResponse, errorResponse } = require(\'../utils/response\');\nconst logger = require(\'../utils/logger\');\n\nclass NotificationController {\n  /**\n   * Create a new notification\n   */\n  async createNotification(req, res) {\n    try {\n      const { userId, title, message, type, priority, isRead } = req.body;\n      \n      // Create notification\n      const notification = await Notification.create({\n        userId,\n        title,\n        message,\n        type,\n        priority,\n        isRead,\n      });\n      \n      return successResponse(res, {\n        message: \'Notification created successfully\',\n        data: notification,\n      }, 201);\n    } catch (error) {\n      logger.error(\'Create notification error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to create notification\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get notification by ID\n   */\n  async getNotification(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find notification\n      const notification = await Notification.findByPk(id);\n      \n      if (!notification) {\n        return errorResponse(res, {\n          message: \'Notification not found\',\n        }, 404);\n      }\n      \n      return successResponse(res, {\n        message: \'Notification retrieved successfully\',\n        data: notification,\n      });\n    } catch (error) {\n      logger.error(\'Get notification error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to retrieve notification\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Update notification\n   */\n  async updateNotification(req, res) {\n    try {\n      const { id } = req.params;\n      const { title, message, type, priority, isRead } = req.body;\n      \n      // Find notification\n      const notification = await Notification.findByPk(id);\n      \n      if (!notification) {\n        return errorResponse(res, {\n          message: \'Notification not found\',\n        }, 404);\n      }\n      \n      // Update notification\n      await notification.update({\n        title,\n        message,\n        type,\n        priority,\n        isRead,\n      });\n      \n      return successResponse(res, {\n        message: \'Notification updated successfully\',\n        data: notification,\n      });\n    } catch (error) {\n      logger.error(\'Update notification error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to update notification\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Delete notification\n   */\n  async deleteNotification(req, res) {\n    try {\n      const { id } = req.params;\n      \n      // Find notification\n      const notification = await Notification.findByPk(id);\n      \n      if (!notification) {\n        return errorResponse(res, {\n          message: \'Notification not found\',\n        }, 404);\n      }\n      \n      // Delete notification\n      await notification.destroy();\n      \n      return successResponse(res, {\n        message: \'Notification deleted successfully\',\n      });\n    } catch (error) {\n      logger.error(\'Delete notification error:\', error);\n      return errorResponse(res, {\n        message: \'Failed to delete notification\',\n        error: error.message,\n      }, 500);\n    }\n  }\n\n  /**\n   * Get all notifications for a user\n   */\n  async getUserNotifications(req, res) {\n    try {\n      const { userId } = req.params;\n      const { page = 1, limit = 10, isRead, type } = req.query;\n      \n      // Build where clause\n      const where = { userId };\n      if (isRead !== undefined) where.isRead = isRead === \'true\';\n      if (type) where.type = type;\n      \n      // Get notifications with pagination\n      const notifications = await Notification.findAndCountAll({\n        where,\n        limit: parseInt(limit, 10),\n        offset: (parseInt(page, 10) - 1) * parseInt(limit, 10),\n        order: [[\'createdAt\', ...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761713209_2094.txt'}